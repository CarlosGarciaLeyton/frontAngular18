<div class="col-md-12">
    <div class="card card-container">
        <img id="profile-img" class="profile-img-card" src="../assets/angularLogin.jpeg" alt="profile-img-user">

       @if (!isLoggedIn) {
        <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate >
        <div class="form-group">
            <label for="userName">Usuario :  </label>
            <input type="text" class="form-control" name="userName" [(ngModel)]="form.userName" required #userName="ngModel"
                [ngClass]="{'is-invalid': f.submitted && userName.errors}" />
        
            @if (userName.errors && f.submitted) {
            <div class="invalid-feedback">Usuario es obligatorio</div>
            }
        </div>
        <div class="form-group">
            <label for="password">Password :  </label>
            <input type="password" 
            class="form-control" 
            name="password" 
            [(ngModel)]="form.password" 
            required 
            minlength="6"
            #password="ngModel"
            [ngClass]="{'is-invalid': f.submitted && password.errors}" />
        
            @if (password.errors && f.submitted) {
            <div class="invalid-feedback">
                
                @if (password.errors ['required']) {
                    <div>Ingreso de password Obligatorio</div>
                }
                @if (password.errors ['minlength']) {
                    <div>Password debe ser de minimo 6 caracteres</div>
                }
            </div>
            }
        </div>
        <div class="form-group">
            <button class="btn btn-primary btn-block">Login</button>
        </div>
        <div class="form-group">
            @if (f.submitted && isLoginFailed) {
             <div class="alert alert-danger" role="alert">
                Login failed : {{errorMessage}}
             </div>
            }
        </div>
       </form>
     }@else {
        <div class="alert alert-success">Logged in {{roles}}</div>
     }
       
    </div>     
</div>
